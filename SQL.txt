CREATE TABLE ABASTECIMENTO (
    CODIGO   INTEGER,
    BOMBA    INTEGER NOT NULL,
    VALOR    NUMERIC(15,10) NOT NULL,
    LITRO    DECIMAL(15,10) NOT NULL,
    IMPOSTO  NUMERIC(15,10) NOT NULL,
    DATA     TIMESTAMP NOT NULL
);

CREATE SEQUENCE GEN_ABASTECIMENTO_ID;
ALTER SEQUENCE GEN_ABASTECIMENTO_ID RESTART WITH 0;

CREATE TRIGGER ABASTECIMENTO_BI FOR ABASTECIMENTO
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.codigo is null) then
    new.codigo = gen_id(gen_abastecimento_id,1);
end

CREATE TABLE BOMBA (
    CODIGO     INTEGER,
    DESCRICAO  VARCHAR(100) NOT NULL,
    TANQUE     INTEGER NOT NULL
);

CREATE SEQUENCE GEN_BOMBA_ID;
ALTER SEQUENCE GEN_BOMBA_ID RESTART WITH 0;

CREATE TRIGGER BOMBA_BI FOR BOMBA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.codigo is null) then
    new.codigo = gen_id(gen_bomba_id,1);
end

CREATE TABLE SISTEMA (
    CODIGO          INTEGER NOT NULL,
    IMPOSTO         DECIMAL(15,10) NOT NULL,
    VALOR_GASOLINA  DECIMAL(15,10) NOT NULL,
    VALOR_DIESEL    DECIMAL(15,10)
);

CREATE SEQUENCE GEN_SISTEMA_ID;
ALTER SEQUENCE GEN_SISTEMA_ID RESTART WITH 0;


CREATE TRIGGER SISTEMA_BI FOR SISTEMA
ACTIVE BEFORE INSERT POSITION 0
as
begin
  if (new.codigo is null) then
    new.codigo = gen_id(gen_sistema_id,1);
end

CREATE TABLE TANQUE (
    CODIGO     INTEGER,
    DESCRICAO  VARCHAR(100) NOT NULL,
    TIPO       INTEGER NOT NULL
);


CREATE TRIGGER TANQUE_BI FOR TANQUE
ACTIVE BEFORE INSERT POSITION 1
as
begin
  if (new.codigo is null) then
    new.codigo = gen_id(gen_tanque_id,1);
end

CREATE SEQUENCE GEN_TANQUE_ID;
ALTER SEQUENCE GEN_TANQUE_ID RESTART WITH 0;





